<!-- 位置收入 NEX -->
<div id="omp-income-count">
    <!-- 页面标题导航  -->
    <!-- <p>易效广告主收入</p> -->
    <!-- 页面内容区 -->
    <div class="omp-content">
        <div class="omp-search">
            <label>产品线</label>
            <div class="omp-select2">
                <span>{{search.way.name}}</span>
                <select ng-model="search.way" ng-options="node.name for node in search.category">
                    <option value="" ng-if="false"></option>
                </select>
            </div>
            <label>栏目</label>
            <div class="omp-select2">
                <span>{{search.sup.name}}</span>
                <select ng-model="search.sup" ng-options="node.name for node in search.columns" ng-change="event.column(search.sup.id)">
                    <option value="" ng-if="false"></option>
                </select>
            </div>
            <label>位置</label>
            <div class="omp-select2">
                <span>{{search.sub.name}}</span>
                <select ng-model="search.sub" ng-options="node.name for node in search.positions">
                    <option value="" ng-if="false"></option>
                </select>
            </div>
            <label>日期</label>
            <div class="omp-input-container">
                <input daterangepicker  class="daterangepicker_box" ng-model="beginEndDate" select="updateDate(start, end, label)"/>
            </div>
            <button ng-click="event.search()" class="income-search">查询</button>
        </div>
        <div class="omp-download-table">
            <a href="{{search.downloadUrl}}?category={{search.way.id}}&column={{search.sup.id}}&position={{search.sub.id}}&startTime={{search.curDate.start}}&endTime={{search.curDate.end}}&start={{data.pageStart}}&limit={{data.pageLimit}}" target="_blank">下载报表</a>
        </div>
        <!--列表显示-->
        <div class="omp-list">
            <div class="omp-list-data">
                <table>
                    <tr>
                        <th>栏目</th>
                        <th>位置</th>
                        <th>广告主ID</th>
                        <th>广告主名称</th>
                        <th>渠道</th>
                        <th>产品线</th>
                        <th>实际收入(元)</th>
                        <th>花费(元)</th>
                        <th>曝光量</th>
                        <th>点击量</th>
                        <th>点击率</th>
                        <th class="col-9 explain">平均千次展现成本(元)<b ng-mouseenter="event.explain($event,'sum')" ng-mouseleave="event.explainHide($event)"></b><span></span></th>
                        <th class="col-9 explain">平均点击成本(元)<b ng-mouseenter="event.explain($event,'average')" ng-mouseleave="event.explainHide($event)"></b><span></span></th>
                    </tr>
                    <tr ng-repeat="node in list" ng-class-odd="'omp-list-odd-line'" ng-show="list.length && data.total > 0">
                        <td align="center">
                            <p>{{node.columnName | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.positionName | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.advertiserId | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.advertiserName | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.channelName | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.categoryName | checkNull}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.revenue ? (node.revenue |currency :'') : '--'}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.expend ? (node.expend |currency :'') : '--'}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.exposures | number}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.clicks | number}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.clickRate | percentFilter}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.pvCost ? (node.pvCost |currency :'') : '--'}}</p>
                        </td>
                        <td align="center">
                            <p>{{node.clickCost ? (node.clickCost |currency :'') : '--'}}</p>
                        </td>
                    </tr>
                </table>
                <p class="omp-list-data-none" ng-show="!list.length && !data.total">该查询条件下无数据</p>
            </div>
            <page-filter></page-filter>
        </div>
    </div>
</div>
