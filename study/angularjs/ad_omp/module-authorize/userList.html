<!--权限管理-->
<div id="omp-authorize">
    <div ng-include="'./common/template/popConfirm.html'"></div>
    <div ng-include="'./common/template/popError.html'"></div>
    <p>用户列表</p>
    <div class="omp-authorize-content">
        <div class="omp-buttons">
            <a href="/omp-app.html#/authorize/userAdd">添加用户</a>
            <div class="omp-userList-search">
                <table style='float:left;'>
                    <tbody>
                        <tr>
                            <td>
                                <input type="text" placeholder="搜索用户姓名" ng-model="searchVal" maxlength="50" ng-change="event.searchValOnChange()" />
                            </td>
                            <td>
                                <a ng-click="event.search()"></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="roleAdd-error"  style="display:inline-block;margin-top:5px;position:absolute;" ng-show='searchValError'>
                    {{searchValError}}
                </div>
            </div>
        </div>
        <div class="omp-list">
            <div class="omp-list-data">
                <table>
                    <tr>
                        <th>用户ID</th>
                        <th>用户名</th>
                        <th>用户姓名</th>
                        <th>对应角色</th>
                        <th>操作</th>
                    </tr>
                    <tr ng-repeat="node in data.lists">
                        <td>
                            {{node.userId | checkNull}}
                            <td>
                                {{node.nickName | checkNull}}
                            </td>
                            <td>
                                <p>{{node.userName | checkNull}}</p>
                            </td>
                            <td>
                                <p>{{node.roleNames | checkNull}}</p>
                            </td>
                            <td>
                                <a href="/omp-app.html#/authorize/userAdd?userId={{node.userId}}">修改</a><a ng-click="event.delete(node.userId)">删除</a>
                            </td>
                    </tr>
                    <tr ng-show="data.total === 0">
                        <td colspan="4">
                            该查询条件下无数据
                        </td>
                    </tr>
                </table>
            </div>
            <page-filter></page-filter>
        </div>
    </div>
</div>